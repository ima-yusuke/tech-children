import{u as h,j as e,H as j,L as p}from"./app-DlmkyjIZ.js";import{A as v}from"./AuthenticatedLayout-5o48iRGT.js";import{I as l}from"./InputLabel-CvwFp9Ei.js";import{T as d,I as i}from"./InputError-C-2tlMeZ.js";import{P as f}from"./PrimaryButton-BUjEHWkM.js";import"./ApplicationLogo-Dx3pgNxU.js";import"./transition-CbHgSPmX.js";function F({categories:o,tags:n}){const{data:t,setData:a,post:c,processing:m,errors:r}=h({title:"",slug:"",excerpt:"",content:"",category_id:"",status:"draft",published_at:"",featured_image:"",tag_ids:[]}),u=s=>{s.preventDefault(),c(route("admin.posts.store"))};return e.jsxs(v,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"記事作成"}),children:[e.jsx(j,{title:"記事作成"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsx("form",{onSubmit:u,className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"title",value:"タイトル"}),e.jsx(d,{id:"title",type:"text",value:t.title,onChange:s=>a("title",s.target.value),className:"mt-1 block w-full",required:!0}),e.jsx(i,{message:r.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"slug",value:"スラッグ（任意）"}),e.jsx(d,{id:"slug",type:"text",value:t.slug,onChange:s=>a("slug",s.target.value),className:"mt-1 block w-full"}),e.jsx(i,{message:r.slug,className:"mt-2"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"空欄の場合はタイトルから自動生成されます"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"category_id",value:"カテゴリ"}),e.jsxs("select",{id:"category_id",value:t.category_id,onChange:s=>a("category_id",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"選択してください"}),o.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx(i,{message:r.category_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{value:"タグ"}),e.jsx("div",{className:"mt-2 space-y-2",children:n.map(s=>e.jsxs("label",{className:"inline-flex items-center mr-4",children:[e.jsx("input",{type:"checkbox",value:s.id,checked:t.tag_ids.includes(s.id),onChange:x=>{x.target.checked?a("tag_ids",[...t.tag_ids,s.id]):a("tag_ids",t.tag_ids.filter(g=>g!==s.id))},className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s.name})]},s.id))}),e.jsx(i,{message:r.tag_ids,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"excerpt",value:"抜粋"}),e.jsx("textarea",{id:"excerpt",value:t.excerpt,onChange:s=>a("excerpt",s.target.value),rows:"3",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx(i,{message:r.excerpt,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"content",value:"本文"}),e.jsx("textarea",{id:"content",value:t.content,onChange:s=>a("content",s.target.value),rows:"15",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0}),e.jsx(i,{message:r.content,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",value:"ステータス"}),e.jsxs("select",{id:"status",value:t.status,onChange:s=>a("status",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"draft",children:"下書き"}),e.jsx("option",{value:"published",children:"公開"}),e.jsx("option",{value:"private",children:"限定公開"})]}),e.jsx(i,{message:r.status,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(f,{disabled:m,children:"作成"}),e.jsx(p,{href:route("admin.posts.index"),className:"text-sm text-gray-600 underline hover:text-gray-900",children:"キャンセル"})]})]})})})})})]})}export{F as default};
