import{u as x,j as e,L as n}from"./app-DlmkyjIZ.js";import{F as h}from"./FrontLayout-DRLjKZ8q.js";import{S as u}from"./SEO-D9hs8VNf.js";function b({post:a,comments:l,relatedPosts:o}){const{data:i,setData:r,post:c,processing:d}=x({content:"",author_name:"",author_email:""}),m=s=>{s.preventDefault(),c(route("posts.comments.store",a.id),{onSuccess:()=>{r({content:"",author_name:"",author_email:""})}})};return e.jsxs(h,{children:[e.jsx(u,{title:a.title,description:a.excerpt||a.content.substring(0,160),keywords:`${a.tags.map(s=>s.name).join(",")},技術用語,プログラミング,初心者`,ogType:"article"}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 py-12 text-white",children:e.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2 text-sm text-indigo-100",children:[a.category&&e.jsx(n,{href:route("categories.show",a.category.slug),className:"rounded-full bg-white/20 px-3 py-1 font-semibold text-white backdrop-blur-sm transition-all hover:bg-white/30 hover:shadow-lg",children:a.category.name}),e.jsx("span",{className:"text-white/70",children:"·"}),e.jsx("time",{className:"text-white/90",children:new Date(a.published_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})}),e.jsx("span",{className:"text-white/70",children:"·"}),e.jsxs("span",{className:"text-white/90",children:[a.view_count," views"]})]}),e.jsx("h1",{className:"mb-6 text-3xl font-bold tracking-tight sm:text-4xl md:text-5xl",children:a.title}),a.excerpt&&e.jsx("p",{className:"mb-6 text-lg text-indigo-50 sm:text-xl",children:a.excerpt}),e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.tags.map(s=>e.jsxs(n,{href:route("tags.show",s.slug),className:"rounded-full bg-white/20 px-3 py-1.5 text-sm font-medium text-white backdrop-blur-sm transition-all hover:bg-white/30 hover:shadow-lg",children:["#",s.name]},s.id))})]})}),e.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-12 sm:px-6 lg:px-8",children:[e.jsx("article",{className:"mb-12 overflow-hidden rounded-2xl bg-white shadow-xl",children:e.jsx("div",{className:"prose prose-lg max-w-none p-8 sm:p-12",children:e.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-gray-800",children:a.content})})}),o.length>0&&e.jsxs("section",{className:"mb-12 overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-50 to-purple-50 shadow-lg",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"関連記事"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:o.map(s=>e.jsx(n,{href:route("posts.show",s.slug),className:"group block rounded-lg bg-white p-4 transition-all hover:shadow-md hover:shadow-indigo-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-2 w-2 items-center justify-center rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 group-hover:shadow-lg"})}),e.jsx("span",{className:"text-gray-900 transition-colors group-hover:text-indigo-600",children:s.title})]})},s.id))})})]}),e.jsxs("section",{className:"overflow-hidden rounded-2xl bg-white shadow-xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-pink-600 to-purple-600 px-6 py-4",children:e.jsxs("h2",{className:"text-xl font-bold text-white",children:["コメント (",l.length,")"]})}),e.jsxs("div",{className:"p-6 sm:p-8",children:[l.length>0&&e.jsx("div",{className:"mb-8 space-y-6",children:l.map(s=>e.jsxs("div",{className:"rounded-xl border-l-4 border-purple-400 bg-gradient-to-r from-purple-50 to-transparent p-4 transition-all hover:shadow-md",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:s.user?.name||s.author_name}),e.jsx("span",{className:"text-gray-400",children:"·"}),e.jsx("time",{className:"text-gray-500",children:new Date(s.created_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx("p",{className:"text-gray-800",children:s.content}),s.replies?.length>0&&e.jsx("div",{className:"mt-4 space-y-4 pl-6",children:s.replies.map(t=>e.jsxs("div",{className:"rounded-lg border-l-2 border-purple-200 bg-white/50 p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:t.user?.name||t.author_name}),e.jsx("span",{className:"text-gray-400",children:"·"}),e.jsx("time",{className:"text-gray-500",children:new Date(t.created_at).toLocaleDateString("ja-JP")})]}),e.jsx("p",{className:"text-sm text-gray-700",children:t.content})]},t.id))})]},s.id))}),e.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-gray-50 to-indigo-50 p-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"コメントを投稿"}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:["コメント ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"content",value:i.content,onChange:s=>r("content",s.target.value),rows:"4",className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm transition-all focus:border-purple-500 focus:ring-2 focus:ring-purple-500",placeholder:"あなたの考えを共有しましょう...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"author_name",className:"block text-sm font-medium text-gray-700",children:["名前 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"author_name",value:i.author_name,onChange:s=>r("author_name",s.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm transition-all focus:border-purple-500 focus:ring-2 focus:ring-purple-500",placeholder:"山田太郎",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"author_email",className:"block text-sm font-medium text-gray-700",children:["メールアドレス ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"author_email",value:i.author_email,onChange:s=>r("author_email",s.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm transition-all focus:border-purple-500 focus:ring-2 focus:ring-purple-500",placeholder:"example@email.com",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:d,className:"rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 px-6 py-3 font-semibold text-white shadow-lg transition-all hover:from-pink-700 hover:to-purple-700 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:d?"投稿中...":"コメントを投稿"})]})]})]})]})]})]})}export{b as default};
