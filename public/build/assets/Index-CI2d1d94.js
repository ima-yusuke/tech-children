import{a as h,j as e,H as g,L as r,r as m}from"./app-CR2mS3-6.js";import{F as o}from"./FrontLayout-C90y1RPq.js";function p({posts:a,query:l,categories:i,popularTags:c}){const[d,n]=h.useState(l||""),x=s=>{s.preventDefault(),m.get(route("search"),{q:d})};return e.jsxs(o,{children:[e.jsx(g,{title:"検索 - Tech Children"}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-4",children:[e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("form",{onSubmit:x,className:"mb-8",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"search",value:d,onChange:s=>n(s.target.value),placeholder:"記事を検索...",className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("button",{type:"submit",className:"rounded-lg bg-indigo-600 px-6 py-2 text-white hover:bg-indigo-700",children:"検索"})]})}),l&&e.jsxs("h1",{className:"mb-6 text-2xl font-bold text-gray-900",children:["「",l,"」の検索結果 (",a.total,"件)"]}),e.jsx("div",{className:"space-y-6",children:a.data.map(s=>e.jsxs("article",{className:"rounded-lg bg-white p-6 shadow",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-500",children:[s.category&&e.jsx(r,{href:route("categories.show",s.category.slug),className:"text-indigo-600 hover:text-indigo-800",children:s.category.name}),e.jsx("span",{children:"·"}),e.jsx("time",{children:new Date(s.published_at).toLocaleDateString("ja-JP")})]}),e.jsx("h2",{className:"mb-2 text-xl font-semibold",children:e.jsx(r,{href:route("posts.show",s.slug),className:"text-gray-900 hover:text-indigo-600",children:s.title})}),s.excerpt&&e.jsx("p",{className:"mb-4 text-gray-600",children:s.excerpt}),e.jsx("div",{className:"flex items-center gap-2",children:s.tags.map(t=>e.jsx(r,{href:route("tags.show",t.slug),className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-700 hover:bg-gray-200",children:t.name},t.id))})]},s.id))}),a.data.length===0&&l&&e.jsx("div",{className:"rounded-lg bg-white p-12 text-center shadow",children:e.jsxs("p",{className:"text-gray-500",children:["「",l,"」に一致する記事が見つかりませんでした"]})}),!l&&e.jsx("div",{className:"rounded-lg bg-white p-12 text-center shadow",children:e.jsx("p",{className:"text-gray-500",children:"キーワードを入力して記事を検索してください"})}),a.links&&a.data.length>0&&e.jsx("div",{className:"mt-8 flex justify-center gap-2",children:a.links.map((s,t)=>s.url?e.jsx(r,{href:s.url,className:`rounded px-3 py-1 ${s.active?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,dangerouslySetInnerHTML:{__html:s.label}},t):e.jsx("span",{className:"rounded px-3 py-1 bg-gray-100 text-gray-400",dangerouslySetInnerHTML:{__html:s.label}},t))})]}),e.jsx("aside",{className:"lg:col-span-1",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow",children:[e.jsx("h3",{className:"mb-4 font-semibold text-gray-900",children:"カテゴリ"}),e.jsx("ul",{className:"space-y-2",children:i.map(s=>e.jsx("li",{children:e.jsxs(r,{href:route("categories.show",s.slug),className:"flex items-center justify-between text-gray-700 hover:text-indigo-600",children:[e.jsx("span",{children:s.name}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",s.posts_count,")"]})]})},s.id))})]}),e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow",children:[e.jsx("h3",{className:"mb-4 font-semibold text-gray-900",children:"人気のタグ"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(s=>e.jsxs(r,{href:route("tags.show",s.slug),className:"rounded-full bg-gray-100 px-3 py-1 text-sm text-gray-700 hover:bg-gray-200",children:[s.name," (",s.posts_count,")"]},s.id))})]})]})})]})})]})}export{p as default};
