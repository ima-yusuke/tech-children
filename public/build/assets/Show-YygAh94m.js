import{u as f,j as e,L as n}from"./app-CePk50-8.js";import{F as y}from"./FrontLayout-DMUNYtPR.js";import{S as v}from"./SEO-CHe9Sghm.js";import{T as k,C as L}from"./tag-CPRp_rSz.js";import{E as M,C as g}from"./eye-uBIbzcPM.js";import{M as C,r as I,a as A,b as D}from"./index-C5uerLF2.js";import{c as r}from"./sparkles-DkZPVgAz.js";const S=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],p=r("arrow-right",S);const T=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_=r("mail",T);const Q=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],u=r("message-circle",Q);const z=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],b=r("send",z);const E=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],d=r("user",E);function J({post:a,comments:i,relatedPosts:c}){const{data:o,setData:l,post:N,processing:x}=f({content:"",author_name:"",author_email:""}),j=s=>{s.preventDefault(),N(route("posts.comments.store",a.id),{onSuccess:()=>{l({content:"",author_name:"",author_email:""})}})};return e.jsxs(y,{children:[e.jsx(v,{title:a.title,description:a.excerpt||a.content.substring(0,160),keywords:`${a.tags.map(s=>s.name).join(",")},技術用語,プログラミング,初心者`,ogType:"article"}),e.jsxs("div",{className:"relative bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 py-20 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDE2YzAgMi4yMS0xLjc5IDQtNCA0cy00LTEuNzktNC00IDEuNzktNCA0LTQgNCAxLjc5IDQgNHptMCAyNGMwIDIuMjEtMS43OSA0LTQgNHMtNC0xLjc5LTQtNCAxLjc5LTQgNC00IDQgMS43OSA0IDR6bTAtMTJjMCAyLjIxLTEuNzkgNC00IDRzLTQtMS43OS00LTQgMS43OS00IDQtNCA0IDEuNzkgNCA0em0xMiAxMmMwIDIuMjEtMS43OSA0LTQgNHMtNC0xLjc5LTQtNCAxLjc5LTQgNC00IDQgMS43OSA0IDR6bTAtMTJjMCAyLjIxLTEuNzkgNC00IDRzLTQtMS43OS00LTQgMS43OS00IDQtNCA0IDEuNzkgNCA0em0wLTEyYzAgMi4yMS0xLjc5IDQtNCA0cy00LTEuNzktNC00IDEuNzktNCA0LTQgNCAxLjc5IDQgNHptMTIgMjRjMCAyLjIxLTEuNzkgNC00IDRzLTQtMS43OS00LTQgMS43OS00IDQtNCA0IDEuNzkgNCA0em0wLTEyYzAgMi4yMS0xLjc5IDQtNCA0cy00LTEuNzktNC00IDEuNzktNCA0LTQgNCAxLjc5IDQgNHoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"}),e.jsxs("div",{className:"relative mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-3 text-sm",children:[a.category&&e.jsxs(n,{href:route("categories.show",a.category.slug),className:"inline-flex items-center gap-2 rounded-xl bg-white/20 px-4 py-2 font-bold text-white backdrop-blur-sm border border-white/30 transition-all hover:bg-white/30 hover:shadow-lg",children:[e.jsx(k,{className:"w-4 h-4"}),a.category.name]}),e.jsx("span",{className:"text-white/50",children:"·"}),e.jsxs("time",{className:"flex items-center gap-2 text-white/90 font-medium",children:[e.jsx(L,{className:"w-4 h-4"}),new Date(a.published_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})]}),e.jsx("span",{className:"text-white/50",children:"·"}),e.jsxs("span",{className:"flex items-center gap-2 text-white/90 font-medium",children:[e.jsx(M,{className:"w-4 h-4"}),a.view_count," views"]})]}),e.jsx("h1",{className:"mb-8 text-4xl font-black tracking-tight sm:text-5xl md:text-6xl leading-tight drop-shadow-lg",children:a.title}),a.excerpt&&e.jsx("p",{className:"mb-8 text-xl text-white/90 leading-relaxed max-w-3xl",children:a.excerpt}),e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.tags.map(s=>e.jsxs(n,{href:route("tags.show",s.slug),className:"inline-flex items-center gap-1.5 rounded-xl bg-white/15 px-3 py-2 text-sm font-bold text-white backdrop-blur-sm border border-white/20 transition-all hover:bg-white/25 hover:scale-105",children:[e.jsx("span",{className:"text-white/60",children:"#"}),s.name]},s.id))})]})]}),e.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-12 sm:px-6 lg:px-8",children:[e.jsx("article",{className:"mb-12 overflow-hidden rounded-3xl bg-white shadow-xl border border-gray-100",children:e.jsx("div",{className:"prose prose-lg max-w-none p-8 sm:p-12 lg:p-16",children:a.generated_content?e.jsx(C,{remarkPlugins:[D],rehypePlugins:[I,A],components:{code({node:s,inline:t,className:w,children:m,...h}){return t?e.jsx("code",{className:"bg-red-50 text-red-600 px-2 py-0.5 rounded text-sm font-mono border border-red-100",...h,children:m}):e.jsx("code",{className:w,...h,children:m})},strong({children:s}){return e.jsx("strong",{className:"font-bold text-gray-900 bg-yellow-100 px-1",children:s})},blockquote({children:s}){return e.jsx("blockquote",{className:"border-l-4 border-blue-400 bg-blue-50 pl-6 py-4 my-6 rounded-r-lg",children:s})},pre({children:s}){return e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-6 rounded-xl overflow-x-auto shadow-lg my-6",children:s})},h2({children:s}){return e.jsx("h2",{className:"text-3xl font-bold mt-12 mb-6 pb-3 border-b-4 border-indigo-200 text-gray-900",children:s})},h3({children:s}){return e.jsxs("h3",{className:"text-2xl font-bold mt-10 mb-4 text-gray-900 flex items-center gap-3",children:[e.jsx("span",{className:"w-2 h-8 bg-gradient-to-b from-indigo-600 to-purple-600 rounded-full"}),s]})},ul({children:s}){return e.jsx("ul",{className:"space-y-3 my-6",children:s})},ol({children:s}){return e.jsx("ol",{className:"space-y-3 my-6",children:s})},li({children:s}){return e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"mt-2 w-2 h-2 rounded-full bg-indigo-600 flex-shrink-0"}),e.jsx("span",{className:"flex-1",children:s})]})}},children:a.generated_content}):e.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 text-lg",children:a.content})})}),c.length>0&&e.jsxs("section",{className:"mb-12 overflow-hidden rounded-3xl bg-white shadow-xl border border-gray-100",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-8 py-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3 relative",children:[e.jsx(p,{className:"w-6 h-6"}),"関連記事"]})]}),e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"space-y-3",children:c.map(s=>e.jsx(n,{href:route("posts.show",s.slug),className:"group block rounded-2xl bg-gradient-to-r from-indigo-50/50 to-purple-50/50 border border-gray-100 p-6 transition-all hover:shadow-lg hover:border-indigo-200 hover:-translate-y-1",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(p,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900 group-hover:text-indigo-600 transition-colors block mb-1",children:s.title}),s.excerpt&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.excerpt})]})]})},s.id))})})]}),e.jsxs("section",{className:"overflow-hidden rounded-3xl bg-white shadow-xl border border-gray-100",children:[e.jsxs("div",{className:"bg-gradient-to-r from-pink-600 to-purple-600 px-8 py-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3 relative",children:[e.jsx(u,{className:"w-6 h-6"}),"コメント (",i.length,")"]})]}),e.jsxs("div",{className:"p-8 sm:p-12",children:[i.length>0&&e.jsx("div",{className:"mb-12 space-y-6",children:i.map(s=>e.jsxs("div",{className:"group rounded-2xl border-l-4 border-purple-400 bg-gradient-to-r from-purple-50/50 to-transparent p-6 transition-all hover:shadow-lg hover:from-purple-50",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-md",children:e.jsx(d,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-gray-900 block",children:s.user?.name||s.author_name}),e.jsxs("time",{className:"text-sm text-gray-500 flex items-center gap-1.5",children:[e.jsx(g,{className:"w-3 h-3"}),new Date(s.created_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})]})]})]}),e.jsx("p",{className:"text-gray-800 leading-relaxed pl-13",children:s.content}),s.replies?.length>0&&e.jsx("div",{className:"mt-6 space-y-4 pl-6 border-l-2 border-purple-200",children:s.replies.map(t=>e.jsxs("div",{className:"rounded-xl bg-white/80 p-4 border border-purple-100",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx(d,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900 text-sm block",children:t.user?.name||t.author_name}),e.jsxs("time",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(g,{className:"w-3 h-3"}),new Date(t.created_at).toLocaleDateString("ja-JP")]})]})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed pl-10",children:t.content})]},t.id))})]},s.id))}),e.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-gray-50 to-indigo-50/50 border border-gray-200 p-8",children:[e.jsxs("h3",{className:"mb-6 text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 text-indigo-600"}),"コメントを投稿"]}),e.jsxs("form",{onSubmit:j,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"content",className:"block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),"コメント ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"content",value:o.content,onChange:s=>l("content",s.target.value),rows:"5",className:"block w-full rounded-xl border-gray-300 shadow-sm transition-all focus:border-purple-500 focus:ring-2 focus:ring-purple-500",placeholder:"あなたの考えやフィードバックを共有してください...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"author_name",className:"block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4"}),"名前 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"author_name",value:o.author_name,onChange:s=>l("author_name",s.target.value),className:"block w-full rounded-xl border-gray-300 shadow-sm transition-all focus:border-purple-500 focus:ring-2 focus:ring-purple-500",placeholder:"山田太郎",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"author_email",className:"block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"メールアドレス ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"author_email",value:o.author_email,onChange:s=>l("author_email",s.target.value),className:"block w-full rounded-xl border-gray-300 shadow-sm transition-all focus:border-purple-500 focus:ring-2 focus:ring-purple-500",placeholder:"example@email.com",required:!0})]})]}),e.jsxs("button",{type:"submit",disabled:x,className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-pink-600 to-purple-600 px-8 py-4 font-bold text-white shadow-lg transition-all hover:from-pink-700 hover:to-purple-700 hover:shadow-xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[e.jsx(b,{className:"w-5 h-5"}),x?"投稿中...":"コメントを投稿"]})]})]})]})]})]})]})}export{J as default};
