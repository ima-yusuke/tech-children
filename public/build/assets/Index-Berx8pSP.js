import{j as e,H as o,L as i,r as l}from"./app-CePk50-8.js";import{A as g}from"./AuthenticatedLayout-B7SCTavu.js";import"./ApplicationLogo-ZtHIpzYx.js";import"./transition-DXQYGFno.js";function p({comments:s,filters:a}){const n=(t,r)=>{l.put(route("admin.comments.update",t),{status:r})},x=t=>{confirm("本当に削除しますか?")&&l.delete(route("admin.comments.destroy",t))},d=t=>{l.get(route("admin.comments.index"),{status:t},{preserveState:!0})};return e.jsxs(g,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"コメント管理"}),children:[e.jsx(o,{title:"コメント管理"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex gap-2",children:[e.jsx("button",{onClick:()=>d("all"),className:`rounded-md px-3 py-2 text-sm font-semibold ${!a?.status||a.status==="all"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"全て"}),e.jsx("button",{onClick:()=>d("pending"),className:`rounded-md px-3 py-2 text-sm font-semibold ${a?.status==="pending"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"保留中"}),e.jsx("button",{onClick:()=>d("approved"),className:`rounded-md px-3 py-2 text-sm font-semibold ${a?.status==="approved"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"承認済み"}),e.jsx("button",{onClick:()=>d("spam"),className:`rounded-md px-3 py-2 text-sm font-semibold ${a?.status==="spam"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"スパム"})]}),e.jsx("div",{className:"space-y-4",children:s.data.map(t=>e.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[e.jsx("div",{className:"mb-2 flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:t.user?.name||t.author_name||"匿名"}),e.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${t.status==="approved"?"bg-green-100 text-green-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.status==="approved"?"承認済み":t.status==="pending"?"保留中":"スパム"})]}),e.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:["記事:"," ",e.jsx(i,{href:route("posts.show",t.post.slug),className:"text-indigo-600 hover:text-indigo-800",children:t.post.title})," · ",new Date(t.created_at).toLocaleString("ja-JP")]})]})}),e.jsx("div",{className:"mb-3 text-gray-700",children:t.content}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{href:route("admin.comments.show",t.id),className:"text-sm text-indigo-600 hover:text-indigo-800",children:"詳細"}),t.status!=="approved"&&e.jsx("button",{onClick:()=>n(t.id,"approved"),className:"text-sm text-green-600 hover:text-green-800",children:"承認"}),t.status!=="spam"&&e.jsx("button",{onClick:()=>n(t.id,"spam"),className:"text-sm text-orange-600 hover:text-orange-800",children:"スパム"}),e.jsx("button",{onClick:()=>x(t.id),className:"text-sm text-red-600 hover:text-red-800",children:"削除"})]})]},t.id))}),s.data.length===0&&e.jsx("div",{className:"py-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"コメントがありません"})}),s.links.length>3&&e.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[e.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[s.prev_page_url?e.jsx(i,{href:s.prev_page_url,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"前へ"}):e.jsx("span",{className:"relative inline-flex items-center rounded-md border border-gray-300 bg-gray-100 px-4 py-2 text-sm font-medium text-gray-400",children:"前へ"}),s.next_page_url?e.jsx(i,{href:s.next_page_url,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"次へ"}):e.jsx("span",{className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-gray-100 px-4 py-2 text-sm font-medium text-gray-400",children:"次へ"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:s.from})," - ",e.jsx("span",{className:"font-medium",children:s.to})," / ",e.jsx("span",{className:"font-medium",children:s.total}),"件中"]})}),e.jsx("div",{children:e.jsx("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm",children:s.links.map((t,r)=>e.jsx(i,{href:t.url||"#",className:`relative inline-flex items-center px-4 py-2 text-sm font-medium ${t.active?"z-10 bg-indigo-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":t.url?"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0":"text-gray-400 ring-1 ring-inset ring-gray-300 cursor-not-allowed"} ${r===0?"rounded-l-md":r===s.links.length-1?"rounded-r-md":""}`,preserveScroll:!0,disabled:!t.url,dangerouslySetInnerHTML:{__html:t.label}},r))})})]})]})]})})})})]})}export{p as default};
